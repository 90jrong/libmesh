#!/bin/sh

#
# Define the usage() function
#

usage ()
{
  echo "usage: $0 --cppflags --cxxflags --include --libs"
  echo "       $0 --cxx"
  echo "       $0 --cc"
  exit
}

#
# Need at least one command-line argument
#
if [ "$#" = "0" ] ; then
    usage $0
fi

prefix=@prefix@
exec_prefix=@exec_prefix@
libdir=@libdir@/@host@_@METHOD@
includedir=@includedir@

return_val=""

#
# Process the command-line arguments, build up
# return_val
#
while [ "x$1" != "x" ]; do
    case "$1" in
	"--cxx")
	    return_val="@CXX@ $return_val"
	    ;;

	"--cc")
	    return_val="@CC@ $return_val"
	    ;;

	"--f77")
	    return_val="@F77@ $return_val"
	    ;;

	"--fc")
	    return_val="@FC@ $return_val"
	    ;;

	"--cppflags")
	    return_val="@CPPFLAGS_METHOD@ $return_val"
	    ;;
	
	"--cxxflags")
	    return_val="@CXXFLAGS_METHOD@ $return_val"
	    ;;
	
	"--cflags")
	    return_val="@CFLAGS_METHOD@ $return_val"
	    ;;
	
	"--fflags")
	    return_val="@FFLAGS@ $return_val"
	    ;;
	
	"--include")
	    return_val="-I${includedir}/base 
                        -I${includedir}/enums
                        -I${includedir}/error_estimation
                        -I${includedir}/fe
                        -I${includedir}/geom
                        -I${includedir}/mesh
                        -I${includedir}/numerics
                        -I${includedir}/parallel
                        -I${includedir}/partitioning
                        -I${includedir}/physics
                        -I${includedir}/quadrature
                        -I${includedir}/reduced_basis 
                        -I${includedir}/solvers
                        -I${includedir}/systems
                        -I${includedir}/utils
                        -I${includedir}/contrib
 	                @libmesh_optional_INCLUDES@
                        $return_val"
	    ;;
	
	"--ldflags" | "--libs")
	    return_val="@libmesh_optional_LIBS@ 
                        -Wl,-rpath,${libdir} -L${libdir} -lmesh 
                        $return_val"
	    ;;
	
	*)
	    echo "Unknown argument: $1"
	    usage $0
    esac
    shift
done

echo $return_val

# Local Variables:
# mode: shell-script
# End:
